<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Griglia Colorabile 30x30</title>
    <style>
        body { font-family: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; margin-top: 20px; }
        #grid { display: grid; grid-template-columns: repeat(30, 25px); grid-template-rows: repeat(30, 25px); gap: 1px; }
        .cell { width: 25px; height: 25px; background-color: white; border: 1px solid #ddd; cursor: pointer; }
        .color-picker { margin: 10px; }
        #result { margin-top: 20px; white-space: pre-wrap; }
    </style>
</head>
<body>

    <h1>Griglia Colorabile 30x30</h1>

    <!-- Selettore dei colori -->
    <div class="color-picker">
        <label for="color">Scegli un colore:</label>
        <select id="color">
            <option value="black">Nero</option>
            <option value="red">Rosso</option>
            <option value="green">Verde</option>
            <option value="blue">Blu</option>
        </select>
    </div>

    <!-- Griglia 30x30 -->
    <div id="grid"></div>

    <!-- Bottone per mostrare le coordinate colorate -->
    <button onclick="showCoordinates()">Mostra Coordinate</button>

    <!-- Risultati -->
    <div id="result"></div>

    <script>
        const grid = document.getElementById('grid');
        const colorSelect = document.getElementById('color');
        const cells = [];
        const coordinates = { black: [], red: [], green: [], blue: [] };

        // Crea una griglia 30x30
        for (let y = 0; y < 30; y++) {
            for (let x = 0; x < 30; x++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.x = x;
                cell.dataset.y = y;

                // Aggiungi evento per colorare la cella
                cell.addEventListener('click', () => {
                    const selectedColor = colorSelect.value;
                    cell.style.backgroundColor = selectedColor;
                    saveCoordinates(x, y, selectedColor);
                });

                grid.appendChild(cell);
                cells.push(cell);
            }
        }

        // Funzione per salvare le coordinate in base al colore
        function saveCoordinates(x, y, color) {
            // Rimuovi la cella da tutti i colori se giÃ  presente
            Object.keys(coordinates).forEach(c => {
                coordinates[c] = coordinates[c].filter(coord => !(coord.x === x && coord.y === y));
            });
            // Aggiungi la cella al colore selezionato
            coordinates[color].push({ x, y });
        }

        // Funzione per mostrare le coordinate colorate
        function showCoordinates() {
            let output = '';
            Object.keys(coordinates).forEach(color => {
                if (coordinates[color].length > 0) {
                    output += `${color}: ${JSON.stringify(coordinates[color])}\n`;
                }
            });
            document.getElementById('result').textContent = output || 'Nessuna cella colorata.';
        }
    </script>

</body>
</html>
