<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labirinto di Logica</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f0f0; margin: 0; overflow: hidden; }
        #video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: black;
            z-index: 1000;
        }
        #game-container {
            display: none;
        }
        #game { display: flex; flex-direction: column; align-items: center; margin-top: 20px; }
        #maze { width: 400px; height: 400px; background-color: #fff; position: relative; border: 2px solid #333; }
        .player { width: 20px; height: 20px; background-color: red; position: absolute; }
        .wall { width: 20px; height: 20px; background-color: black; position: absolute; }
        .door { width: 20px; height: 20px; background-color: blue; position: absolute; }
        .exit { width: 20px; height: 20px; background-color: green; position: absolute; }
        #puzzle { margin-top: 20px; display: none; }
    </style>
</head>
<body>

<div id="video-container">
    <video id="intro-video" width="100%" height="100%" autoplay muted playsinline>
        <source src="LOADING_....mp4" type="video/mp4">
        Il tuo browser non supporta il tag video.
    </video>
</div>

<div id="game-container">
    <div id="game">
        <h1>Labirinto di Logica</h1>
        <div id="maze"></div>
        <div id="puzzle">
            <p id="puzzle-question"></p>
            <input type="text" id="puzzle-answer" />
            <button onclick="checkAnswer()">Invia</button>
        </div>
    </div>
</div>

<script>
    const videoContainer = document.getElementById('video-container');
    const gameContainer = document.getElementById('game-container');
    const introVideo = document.getElementById('intro-video');

    introVideo.onended = () => {
        videoContainer.style.display = 'none';
        gameContainer.style.display = 'block';
    };

    const maze = document.getElementById('maze');
    const player = document.createElement('div');
    player.classList.add('player');
    maze.appendChild(player);
    let playerPosition = { x: 0, y: 1 };

    const walls = [
        { x: 5, y: 1 }, { x: 6, y: 1 }, { x: 7, y: 1 }, // ... Resto delle pareti
    ];

    const doors = [
        { x: 2, y: 8, question: 'Qual è 2 + 2?', answer: '4' },
        { x: 8, y: 16, question: 'Qual è la capitale della Francia?', answer: 'Parigi' },
    ];

    const exit = { x: 10, y: 19 };

    function positionPlayer() {
        player.style.top = playerPosition.y * 20 + 'px';
        player.style.left = playerPosition.x * 20 + 'px';
    }

    function createMaze() {
        walls.forEach(wall => {
            const wallDiv = document.createElement('div');
            wallDiv.classList.add('wall');
            wallDiv.style.top = wall.y * 20 + 'px';
            wallDiv.style.left = wall.x * 20 + 'px';
            maze.appendChild(wallDiv);
        });

        doors.forEach(door => {
            const doorDiv = document.createElement('div');
            doorDiv.classList.add('door');
            doorDiv.style.top = door.y * 20 + 'px';
            doorDiv.style.left = door.x * 20 + 'px';
            maze.appendChild(doorDiv);
        });

        const exitDiv = document.createElement('div');
        exitDiv.classList.add('exit');
        exitDiv.style.top = exit.y * 20 + 'px';
        exitDiv.style.left = exit.x * 20 + 'px';
        maze.appendChild(exitDiv);
    }

    function resetLevel() {
        playerPosition = { x: 1, y: 1 };
        positionPlayer();
        document.getElementById('puzzle').style.display = 'none';
    }

    document.addEventListener('keydown', (event) => {
        let newPosition = { ...playerPosition };
        if (event.key === 'ArrowUp') newPosition.y--;
        if (event.key === 'ArrowDown') newPosition.y++;
        if (event.key === 'ArrowLeft') newPosition.x--;
        if (event.key === 'ArrowRight') newPosition.x++;
        // Controlli movimento...
    });

    createMaze();
    positionPlayer();
</script>

</body>
</html>

</body>
</html>
